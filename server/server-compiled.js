(()=>{var e={860:e=>{"use strict";e.exports=require("express")},13:e=>{"use strict";e.exports=require("mongodb")}},n={};function o(r){var t=n[r];if(void 0!==t)return t.exports;var s=n[r]={exports:{}};return e[r](s,s.exports,o),s.exports}(()=>{const{MongoClient:e}=o(13),n=o(860);let r;const t=n();t.set("view engine","ejs"),t.set("views","./views"),t.use(n.static("public")),t.get("/",(async(e,n)=>{const o=await r.collection("users").find().toArray();n.render("home",{allUsers:o})})),t.get("/admin",((e,n)=>{n.render("admin")})),t.get("/api/users",(async(e,n)=>{const o=await r.collection("users").find().toArray();n.json(o)})),t.listen(55432,(function(e){e&&console.log("Error in server setup"),console.log("Server listening on Port",55432)})),async function(){const n=new e("mongodb+srv://root:root@cluster0.axpqb61.mongodb.net/AmazingMernApp");await n.connect(),r=n.db()}()})()})();